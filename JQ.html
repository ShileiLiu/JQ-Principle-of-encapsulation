<!DOCTYPE html>
<html>
	<head>
		<meta charset="{CHARSET}">
		<title></title>
	</head>
	<body>
		<div class="div" style="width: 300px;height: 300px;background: red;">
			
		</div>
		<div class="div" style="width: 300px;height: 300px;background: red;">
			
		</div>
		<div id="div" style="width: 300px;height: 300px;background: blue;">
			
		</div>
		<script>
//		我们举一个例子

//		事实上$()是一个函数,返回了一个新建的jQuery对象.
//		首先$这个函数需要一个参数,这个参数是一个元素或者一个CSS选择符的字符串

		function JQuery(target){
			if(!target){
				this.t=[];
			}
			if(typeof target=="string")//检测是否为字符串
			{
				this.t=document.querySelectorAll(target);
			}else if(typeof target=="object"){//检测是否为对象
				this.t=[];
				this.t.push(target);
			}
			
		}
//		然后我们给JQuery定义方法 比如hide方法
		JQuery.prototype.hide=function(){
			for(var i=0;i<this.t.length;i++){
				this.t[i].style.display="none";
			}
			return this;
		}
//		我们给JQuery添加eq方法
		JQuery.prototype.eq=function(x){
			if(x<this.t.length)
			return $(this.t[x]);
			else
			return $()
		}
//		我们给JQuery添加show方法
		JQuery.prototype.show=function(){
			for(var i=0;i<this.t.length;i++){
				this.t[i].style.display="block";
			}
		}
//		我们给JQuery添加on方法，也就是绑定事件的方法
		JQuery.prototype.on=function(e,efun,use){
			for(var i=0;i<this.t.length;i++){
				if(this.t[i].addEventListener){
					if(use){
						this.t[i].addEventListener(e,efun,true)
					}else{
						this.t[i].addEventListener(e,efun,false)
					}					
				}else if(this.t[i].attachEvent){
					if(use){
						this.t[i].attachEvent('on'+e,efun)
						event.stopPropagation();
						event.cancelBubble=true;
					}else{
						this.t[i].attachEvent('on'+e,efun)
					}
					
				}else{
					var str='this.t[i].on'+e+"=function(){efun()}"
					setTimeout(str,1);
				}
				
			}
			return this;
		}
//		jq的原理就是这样

		function $(target){
			return new JQuery(target)
		}
		
		var div=document.getElementById('div');
		$('.div').eq(1).on('click',function(){
			alert(2);
		});
		$(div).hide();
		$(div).show();
		</script>
	</body>
</html>
